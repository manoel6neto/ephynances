<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
    konsole
    <ui:composition template="/template.xhtml"> 
        <ui:define name="title"> 
            <h:outputText  value="Configurações do Sistema" />
        </ui:define>
        <ui:define name="body">
            <f:event type="preRenderView" listener="#{loginController.isUserInRuller(userController.RULER_ADMIN)}" />
            <h:form id="form" styleClass="form">

                <br class="clear" />
                <br/>
                <p:fieldset legend="Envio de email" toggleable="true" collapsed="false">

                    <br class="clear" />                    
                    <div class="grid_4 alpha" >
                        <p:outputLabel  value="SMTP HostName: " />
                        <p:inputText value="#{configurationController.configuration.smtpServer}" required="true" requiredMessage="Não pode ser em branco."/>
                    </div>

                    <br class="clear" />
                    <div class="grid_4 alpha" >
                        <p:outputLabel  value="Usuário: "/>
                        <p:inputText value="#{configurationController.configuration.userName}" required="true" requiredMessage="Não pode ser em branco."/>
                    </div>

                    <br class="clear" />
                    <div class="grid_4 alpha" >
                        <p:outputLabel  value="Senha: "/>
                        <p:inputText value="#{configurationController.configuration.password}" required="true" requiredMessage="Não pode ser em branco."/>
                    </div>

                    <br class="clear" />
                    <div class="grid_4 alpha" >
                        <p:outputLabel  value="SMTP Port: "/>
                        <p:inputText value="#{configurationController.configuration.smtpPort}" required="true" requiredMessage="Não pode ser em branco."/>
                    </div>

                    <br class="clear" />
                    <div class="grid_4 alpha" >
                        <p:outputLabel  value="Email de envio: " />
                        <p:inputText style="margin-bottom: 10px" value="#{configurationController.configuration.email}" required="true" requiredMessage="Não pode ser em branco."/>
                    </div>
                </p:fieldset>
                
                <br class="clear" />
                <br/>
                <p:fieldset legend="Impostos" toggleable="true" collapsed="false">

                    <br class="clear" />                    
                    <div class="grid_4 alpha" >
                        <p:outputLabel  id="csll" value="CSLL(%): " />
                        <p:inputText value="#{configurationController.configuration.CSLL}" required="true" requiredMessage="Não pode ser em branco."/>
                        <p:watermark id="wmcsll" for="csll" value="0"/>
                    </div>
                    
                    <br class="clear" />                    
                    <div class="grid_4 alpha" >
                        <p:outputLabel  id="pis" value="PIS(%): " />
                        <p:inputText value="#{configurationController.configuration.PIS}" required="true" requiredMessage="Não pode ser em branco."/>
                        <p:watermark id="wmpis" for="pis" value="0"/>
                    </div>
                    
                    <br class="clear" />                    
                    <div class="grid_4 alpha" >
                        <p:outputLabel  id="cofins" value="COFINS(%): " />
                        <p:inputText value="#{configurationController.configuration.COFINS}" required="true" requiredMessage="Não pode ser em branco."/>
                        <p:watermark id="wmcofins" for="cofins" value="0"/>
                    </div>
                    
                    <br class="clear" />                    
                    <div class="grid_4 alpha" >
                        <p:outputLabel  id="irpj" value="IRPJ(%): " />
                        <p:inputText style="margin-bottom: 10px" value="#{configurationController.configuration.IRPJ}" required="true" requiredMessage="Não pode ser em branco."/>
                        <p:watermark id="wmirpj" for="irpj" value="0"/>
                    </div>

                </p:fieldset>

                <br class="clear" />
                <br/>
                <div class="grid_12 alpha" style="line-height: 30px;" >
                    <p:commandButton styleClass="grid_1 alpha" action="#{configurationController.save}" ajax="false" value="Salvar" update="form"/>
                    <h:link styleClass="grid_1" outcome="/index.xhtml" value="Voltar" />
                </div>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
