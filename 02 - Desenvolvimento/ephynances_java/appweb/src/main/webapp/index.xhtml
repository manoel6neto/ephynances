<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets" >

    <ui:composition template="/template.xhtml">
        <ui:define name="body">
            <h:form styleClass="form" id="formContract" rendered="#{loginController.showPdfContract}">
                <div id="divMedia">
                    <p:media id="media" player="pdf" cache="true" value="./resources/documents/contrato.pdf" width="100%" height="600px"/> 
                </div>
                <br class="clear" />
                <p:separator/>
                <p:commandButton style="color: #FF0000" value="Aceitar" action="#{loginController.accept_contract(true)}" icon="ui-icon-check" />
                <p:commandButton style="color: #FF0000" value="Recusar" action="#{loginController.accept_contract(false)}" icon="ui-icon-closethick" /> 
                <p:dialog modal="true" widgetVar="statusDialog" header="Status" draggable="false" closable="false" resizable="false">
                    <p:graphicImage name="./resources/img/ajaxloadingbar.gif" url="./resources/img/ajaxloadingbar.gif" alt="loading..." cache="true"/>
                </p:dialog>
                <p:commandButton style="color: #FF0000" value="Baixar (Docx)" ajax="false" icon="ui-icon-arrowthick-1-s">
                    <p:fileDownload value="#{loginController.file}" />
                </p:commandButton>
            </h:form>

            <h:form id="formDefault" rendered="#{loginController.showPdfContract == false}">
                <div id="divDefault" style="float: left; display: block; overflow: hidden; margin-top: 40px;">
                    <p:chart id="chartBarsContractsPayments" type="bar" model="#{chartController.contractPaymentsForMonth}" style="width:540px; height:300px" />
                    <p:effect for="chartBarsContractsPayments" type="shake" speed="750" delay="100" event="load" />

                    <p:chart id="chartBarsContractsForTop10Sellers" type="bar" model="#{chartController.contractForTopSellers}" style="width:540px; height:300px" />
                    <p:effect for="chartBarsContractsForTop10Sellers" type="shake" speed="750" delay="100" event="load" />
                </div>

                <div id="divDefaultRight" style="float: right; display: block; overflow: hidden; margin-top: 40px;">
                    <p:chart id="chartBarsAgrees" type="bar" model="#{chartController.agreementsDateValueChartModel}" style="width:550px; height:300px" />
                    <p:effect for="chartBarsAgrees" type="shake" speed="750" delay="100" event="load"/>

                    <p:chart id="chartBarsPayments" type="bar" model="#{chartController.lastPayments}" style="width:550px; height:300px; margin-top: 40px;" />
                    <p:effect for="chartBarsPayments" type="shake" speed="750" delay="100" event="load"/>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
