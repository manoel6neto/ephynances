<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title><ui:insert name="browserTitle"> :#: e-Phynance :#: </ui:insert></title>
        <link rel="icon" href="${request.contextPath}/resources/img/favicon.png" type="image/x-icon"/>
        <link rel="shortcut icon" href="${request.contextPath}/resources/img/favicon.png" type="image/x-icon" />
        <h:outputStylesheet name="css/layout.css"  />
        <h:outputStylesheet name="css/960.css" />
        <h:outputStylesheet name="css/estilos.css" />
        <h:outputScript name="js/jquery.maskMoney.js"  />
        <script type="text/javascript" language="javascript">
            PrimeFaces.locales['pt_BR'] = {
                closeText: 'Fechar',
                prevText: 'Anterior',
                nextText: 'Próximo',
                currentText: 'Começo',
                monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Des'],
                dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],
                dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
                weekHeader: 'Semana',
                firstDay: 1,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: '',
                timeOnlyTitle: 'Só Horas',
                timeText: 'Tempo',
                hourText: 'Hora',
                minuteText: 'Minuto',
                secondText: 'Segundo',
                ampm: false,
                month: 'Mês',
                week: 'Semana',
                day: 'Dia',
                allDayText: 'Todo Dia'
            };

            jQuery(document).ready(function () {
                updateMasks();
            });

            function updateMasks() {
                jQuery('.maskMoney').each(function () {
                    jQuery(this).maskMoney({thousands: '.', decimal: ','});
                });
                jQuery('.maskGPS').each(function () {
                    jQuery(this).maskMoney({thousands: '', decimal: ',', precision: 6, allowNegative: true, allowZero: true});
                });
                jQuery('.maskInt').each(function () {
                    jQuery(this).maskMoney({thousands: '', decimal: '', precision: 0, allowZero: true});
                });
            }

            function start() {
                PF('statusDialog').show();
            }

            function stop() {
                PF('statusDialog').hide();
            }
        </script>     
    </h:head>
    <h:body>
        <div id="geral" class="container_12" >
            <div id="header" class="grid_12">
                <div class="container_12">
                    <h:form>
                        <div class="grid_4 alpha" align="left">
                            <p:graphicImage name="img/logo_titulo.png" alt="e-Phynance" url="img/logo_titulo.png" width="120" height="40"/>
                            <!--<span class="title1">e-Phynance</span>-->
                            <br class="clear" />
                            <div class="grid_4 alpha" align="left">
                                <h:panelGroup rendered="#{loginController.loggedUser != null}" >
                                    <span class="accountInfo">
                                        Bem vindo, 
                                        <span class="user" >
                                            <h:link style="font-size: 1.0em" outcome="/user/password" value="#{loginController.loggedUser.name.split(' ')[0]}" />
                                        </span>
                                        <h:panelGroup styleClass="user" rendered="#{loginController.isUserInRuller(userController.RULER_ADMIN)}" >
                                            ( ADMIN )
                                        </h:panelGroup>
                                        | <p:commandLink ajax="false" action="#{loginController.logout}" value="sair" style="color: #FF0000" />
                                    </span>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{loginController.loggedUser == null}" >
                                    <span class="accountInfo">
                                        [
                                        <h:link styleClass="user" outcome="/login" value="entrar" />
                                        ]
                                    </span>
                                </h:panelGroup>
                            </div>
                        </div>
                        <h:panelGroup rendered="#{loginController.loggedUser != null}" >
                            <div class="grid_8 omega "  >
                                <ui:insert name="header">
                                    <p:menubar style="margin-top: 10px" rendered="#{loginController.showPdfContract == false}" >  
                                        <p:menuitem value="HOME" outcome="/index.xhtml" />
                                        <p:menuitem value="USUÁRIOS" outcome="/user/list" rendered="#{loginController.isUserInRuller(userController.RULER_ADMIN) || loginController.isUserInRuller(userController.RULER_ADMIN_GESTOR)}" />  
                                        <p:menuitem value="COLABORADORES" action="#{sellerContributorController.listBySeller(loginController.loggedUser.id)}" rendered="#{loginController.isUserInRuller(userController.RULER_SELLER)}" />
                                        <p:menuitem value="VINCULAR CNPJ'S" outcome="/user/cnpjs" rendered="#{loginController.isUserInRuller(userController.RULER_SELLER) || loginController.isUserInRuller(userController.RULER_ADMIN_GESTOR)}" />  
                                        <p:submenu label="CONTRATOS">
                                            <p:menuitem value="CONTRATOS CADASTRADOS" outcome="/agreement/list" />
                                            <p:menuitem value="NOVO CONTRATO" action="#{agreementController.startAgreement(loginController.loggedUser.id)}" />
                                        </p:submenu>
                                        <p:menuitem value="COMISSÕES" outcome="/comission/comission" rendered="#{loginController.isUserInRuller(userController.RULER_ADMIN)}"/>
                                        <p:submenu label="RELATÓRIOS" rendered="#{!loginController.isUserInRuller(userController.RULER_CONTRIBUTOR)}" >
                                            <p:submenu label="ESTADOS" >
                                                <p:menuitem value="CONTRATOS FIRMADOS" outcome="/rel/statesagreements" />
                                                <p:menuitem value="ENTRADAS FINANCEIRAS" outcome="/rel/statespayments" />
                                            </p:submenu>
                                            <p:submenu label="REPRESENTANTES" >
                                                <p:menuitem value="CONTRATOS FIRMADOS" outcome="/rel/statesagreements" />
                                                <p:menuitem value="ENTRADAS FINANCEIRAS" outcome="/rel/statesagreements" />
                                            </p:submenu>
                                            <p:menuitem value="INADIMPLENTES" outcome="/rel/statesagreements" />
                                        </p:submenu>
                                        <p:submenu label="CONFIGURAÇÕES DO USUÁRIO">
                                            <p:menuitem value="ALTERAR SENHA" outcome="/user/password" />
                                            <p:menuitem value="EDITAR USUÁRIO" outcome="/user/list" rendered="#{loginController.isUserInRuller(userController.RULER_SELLER)}" />
                                            <p:menuitem value="CONTRATO DO REPRESENTANTE" outcome="/contract" rendered="#{loginController.isUserInRuller(userController.RULER_SELLER)}"/>
                                        </p:submenu>
                                        <p:menuitem value="SISTEMA" outcome="/admin/form" rendered="#{loginController.isUserInRuller(userController.RULER_ADMIN)}"/>                                        
                                    </p:menubar>
                                </ui:insert>
                            </div>
                        </h:panelGroup>
                    </h:form>
                </div>
            </div>
            <div class="grid_12 content"  >
                <p:ajaxStatus style="width:208px;" id="ajaxStatusPanel"  >
                    <f:facet name="start">
                        <h:graphicImage name="img/loading.gif" style="position: fixed; top: 80px" />
                    </f:facet>
                    <f:facet name="complete">
                        <h:outputText value="" />
                    </f:facet>
                </p:ajaxStatus>
                <h1 style="text-align: left; margin-bottom: 4px" class="grid_12 alpha">
                    <ui:insert name="title"></ui:insert>
                </h1>
                <br class="clear" />
                <div id="DIV_MESSAGES" class="grid_12 alpha">
                    <p:messages id="globalMessages" closable="true" globalOnly="true" autoUpdate="true" />
                </div>
                <div class="grid_12 alpha" >
                    <ui:insert name="body">
                    </ui:insert>
                </div>
            </div>
        </div>
        <div id="rodape_ext">
            <div id="rodape_geral" class="container_12">
                <div id="rodape" class="grid_12">
                    <p>© 2015 BY Physis Brasil | Conheça nossas soluções em  
                        <b><a class="link-rodape" href="http://www.physisbrasil.com.br" target="Physis Brasil">www.physisbrasil.com.br</a></b>
                    </p>
                </div>
            </div>
        </div>
    </h:body>
</html>

